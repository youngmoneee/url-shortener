apiVersion: monitoring.coreos.com/v1
kind: Prometheus
metadata:
  name: server
  namespace: monitoring
  labels:
    app: prom-server
spec:
  serviceMonitorNamespaceSelector: {}
  serviceMonitorSelector: {}
  podMonitorNamespaceSelector: {}
  podMonitorSelector: {}
  ruleNamespaceSelector: {}
  ruleSelector:
    matchLabels:
      prometheus: alert-rule
  alerting:
    alertmanagers:
      - apiVersion: v2
        name: alertmanager-operated
        namespace: monitoring
        port: web
  image: prom/prometheus:v2.48.1
  replicas: 1
  serviceAccountName: prom-server
